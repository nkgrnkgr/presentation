---
marp: true
theme: default
paginate: true
backgroundColor: #fff
backgroundImage: url('https://marp.app/assets/hero-background.svg')
header: 'Zustandを用いた実践的状態管理'
footer: '2025/07/24 - Offers Tech Event'
---

# Zustandを用いた実践的状態管理
## 複雑なフォームへの適用事例

---

![bg right:50%](https://avatars.githubusercontent.com/u/17094072?v=4)

## 自己紹介

**株式会社カケハシ**
**生成AI研究開発チーム**
**ソフトウェアエンジニア**
**Nokogiri(@nkgrnkgr)**

---

![bg right:60%](https://cdn.prod.website-files.com/612f503d75b76e04fe50e50f/615e8dbfa2ab7eceed6e4d38_l-mission_img01.jpg)

## 株式会社カケハシ

- 医療体験をしなやかに
- 主に薬局向けの業務システムを提供
- ヘルステックスタートアップ

---

## 今日話すこと

1. useState以上の状態管理が必要なケース
2. Zustandを使った設計・実装プラクティス
3. 得られた知見・課題

---

## useState以上の状態管理が必要なケース

- 複雑な状態間の依存関係
- 散在する状態更新ロジック
- 頻繁な再描画によるパフォーマンス問題

---

![bg top:100%](https://cdn-ak.f.st-hatena.com/images/fotolife/k/kakehashi_dev/20240909/20240909094358.png)

---

## 具体的な課題：AI在庫ダイアログ

- 動的に変わる初期値
- ユーザーの選択によって複数箇所の状態の更新

---

## Zustandによる解決

- 中央集権的な状態管理
- アクションによる状態更新の集約
- セレクターによる効率的な再描画制御

---

## 設計パターン：ストア構造

- 状態とアクションの明確な分離
- 型安全な実装
- 状態のライフサイクルをReactComponentに合わせる

---

## 実装のポイント

- アクションでのビジネスロジック集約
- 非同期処理の適切な管理
- 状態の一貫性保証

---

## メリット：可読性の向上

- シンプルで明確な状態管理
- コンポーネントの責務分離
- 予測可能な状態変更

---

## メリット：テスタビリティ

- ストアのアクションを直接テスト可能
- 状態変更の独立したテスト
- モックしやすい構造

---

## 開発体験の改善

- Redux DevToolsとの連携
- immerミドルウェアによる直感的な状態更新
- TypeScriptとの親和性

---

## 得られた知見

✅ 複雑な状態管理が劇的にシンプルに
✅ コードの可読性とメンテナンス性が向上
✅ テストが書きやすくなった
✅ 開発速度の向上

---

## 課題と今後の展望

- 小さなコンポーネントには過剰な場合も
- チーム内でのパターン統一が必要
- パフォーマンス最適化のベストプラクティス模索

---

## まとめ

- React Hook Formでは解決困難な複雑な状態管理
- Zustandによる中央集権的なアプローチが効果的
- AI在庫プロダクトでの実践で確かな手応え

**適切なツールを適切な場面で使うことが重要**

---

## Thank you!

### 質問・ディスカッションタイム

---
